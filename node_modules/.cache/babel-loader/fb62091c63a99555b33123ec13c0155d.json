{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Cristina-Elena\\\\Desktop\\\\typescript\\\\rrts\\\\src\\\\components\\\\App.tsx\";\nimport React from 'react';\nimport { connect } from 'react-redux';\nimport { fetchTodos, deleteTodo } from '../actions';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nclass _App extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.onButtonClick = () => {\n      this.props.fetchTodos();\n      this.setState({\n        fetching: true\n      });\n    };\n\n    this.onTodoClick = id => {\n      this.props.deleteTodo(id);\n    };\n\n    this.state = {\n      fetching: false\n    };\n  }\n\n  componentDidUpdate(prevProps) {\n    if (!prevProps.todos.length && this.props.todos.length) {\n      this.setState({\n        fetching: false\n      });\n    }\n  }\n\n  renderList() {\n    return this.props.todos.map(todo => {\n      return /*#__PURE__*/_jsxDEV(\"div\", {\n        onClick: () => this.onTodoClick(todo.id),\n        children: todo.title\n      }, todo.id, false, {\n        fileName: _jsxFileName,\n        lineNumber: 41,\n        columnNumber: 11\n      }, this);\n    });\n  }\n\n  render() {\n    console.log(this.props.todos);\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: this.onButtonClick,\n        children: \"Fetch\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 50,\n        columnNumber: 7\n      }, this), this.state.fetching ? 'Loading...' : null, this.renderList()]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 12\n    }, this);\n  }\n\n}\n\nconst mapStateToProps = _ref => {\n  let {\n    todos\n  } = _ref;\n  return {\n    todos\n  };\n};\n\nexport const App = connect(mapStateToProps, {\n  fetchTodos,\n  deleteTodo\n})(_App);","map":{"version":3,"names":["React","connect","fetchTodos","deleteTodo","_App","Component","constructor","props","onButtonClick","setState","fetching","onTodoClick","id","state","componentDidUpdate","prevProps","todos","length","renderList","map","todo","title","render","console","log","mapStateToProps","App"],"sources":["C:/Users/Cristina-Elena/Desktop/typescript/rrts/src/components/App.tsx"],"sourcesContent":["import React from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { StoreState } from '../reducers/index';\r\nimport { Todo, fetchTodos, deleteTodo } from '../actions';\r\nimport { typeOptions } from '@testing-library/user-event/dist/type/typeImplementation';\r\n\r\ninterface AppProps {\r\n  todos: Todo[];\r\n  fetchTodos: Function;\r\n  deleteTodo: typeof deleteTodo;\r\n}\r\n\r\ninterface AppState {\r\n  fetching: boolean;\r\n}\r\n\r\n class _App extends React.Component<AppProps, AppState> {\r\n\r\n  constructor(props: AppProps) {\r\n    super(props)\r\n    this.state = { fetching: false };\r\n  }\r\n\r\n  componentDidUpdate(prevProps: AppProps): void {\r\n    if(!prevProps.todos.length && this.props.todos.length ) {\r\n      this.setState({ fetching: false});\r\n    }\r\n  }\r\n\r\n  onButtonClick = (): void => {\r\n    this.props.fetchTodos();\r\n    this.setState({ fetching: true });\r\n  };\r\n  onTodoClick = (id: number): void => {\r\n    this.props.deleteTodo(id);\r\n  };\r\n\r\n  renderList(): JSX.Element[] {\r\n    return this.props.todos.map((todo: Todo) => {\r\n      return (\r\n          <div onClick={() => this.onTodoClick(todo.id)} key={todo.id}>\r\n            {todo.title}\r\n          </div>\r\n      );\r\n    });\r\n  }\r\n  render() {\r\n    console.log(this.props.todos)\r\n    return <div>\r\n      <button onClick = {this.onButtonClick}>Fetch</button>\r\n      {this.state.fetching? 'Loading...': null }\r\n      {this.renderList()}\r\n    </div>\r\n  }\r\n}\r\n\r\nconst mapStateToProps = ({todos}: StoreState): { todos: Todo[]} => {\r\n  return { todos };\r\n};\r\n\r\nexport  const App = connect(\r\n  mapStateToProps,\r\n  { fetchTodos, deleteTodo }\r\n)(_App);"],"mappings":";AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,SAASC,OAAT,QAAwB,aAAxB;AAEA,SAAeC,UAAf,EAA2BC,UAA3B,QAA6C,YAA7C;;;AAaC,MAAMC,IAAN,SAAmBJ,KAAK,CAACK,SAAzB,CAAuD;EAEtDC,WAAW,CAACC,KAAD,EAAkB;IAC3B,MAAMA,KAAN;;IAD2B,KAW7BC,aAX6B,GAWb,MAAY;MAC1B,KAAKD,KAAL,CAAWL,UAAX;MACA,KAAKO,QAAL,CAAc;QAAEC,QAAQ,EAAE;MAAZ,CAAd;IACD,CAd4B;;IAAA,KAe7BC,WAf6B,GAedC,EAAD,IAAsB;MAClC,KAAKL,KAAL,CAAWJ,UAAX,CAAsBS,EAAtB;IACD,CAjB4B;;IAE3B,KAAKC,KAAL,GAAa;MAAEH,QAAQ,EAAE;IAAZ,CAAb;EACD;;EAEDI,kBAAkB,CAACC,SAAD,EAA4B;IAC5C,IAAG,CAACA,SAAS,CAACC,KAAV,CAAgBC,MAAjB,IAA2B,KAAKV,KAAL,CAAWS,KAAX,CAAiBC,MAA/C,EAAwD;MACtD,KAAKR,QAAL,CAAc;QAAEC,QAAQ,EAAE;MAAZ,CAAd;IACD;EACF;;EAUDQ,UAAU,GAAkB;IAC1B,OAAO,KAAKX,KAAL,CAAWS,KAAX,CAAiBG,GAAjB,CAAsBC,IAAD,IAAgB;MAC1C,oBACI;QAAK,OAAO,EAAE,MAAM,KAAKT,WAAL,CAAiBS,IAAI,CAACR,EAAtB,CAApB;QAAA,UACGQ,IAAI,CAACC;MADR,GAAoDD,IAAI,CAACR,EAAzD;QAAA;QAAA;QAAA;MAAA,QADJ;IAKD,CANM,CAAP;EAOD;;EACDU,MAAM,GAAG;IACPC,OAAO,CAACC,GAAR,CAAY,KAAKjB,KAAL,CAAWS,KAAvB;IACA,oBAAO;MAAA,wBACL;QAAQ,OAAO,EAAI,KAAKR,aAAxB;QAAA;MAAA;QAAA;QAAA;QAAA;MAAA,QADK,EAEJ,KAAKK,KAAL,CAAWH,QAAX,GAAqB,YAArB,GAAmC,IAF/B,EAGJ,KAAKQ,UAAL,EAHI;IAAA;MAAA;MAAA;MAAA;IAAA,QAAP;EAKD;;AArCqD;;AAwCxD,MAAMO,eAAe,GAAG,QAA2C;EAAA,IAA1C;IAACT;EAAD,CAA0C;EACjE,OAAO;IAAEA;EAAF,CAAP;AACD,CAFD;;AAIA,OAAQ,MAAMU,GAAG,GAAGzB,OAAO,CACzBwB,eADyB,EAEzB;EAAEvB,UAAF;EAAcC;AAAd,CAFyB,CAAP,CAGlBC,IAHkB,CAAZ"},"metadata":{},"sourceType":"module"}